<html>
<script src="point.js"></script>
<script src="2dg.js"></script>

<body>
<canvas id="canvas" width="640" height="640" style="border:1px solid #000000"></canvas>
<script>
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var a = new Point(100,100);
var b = new Point(150,100);
var c = new Point(150,50);
var d = new Point(150,100);
init(ctx);
setInterval(redraw, 33);
function redraw() {
  clear(); 
  if (intersects(a,b,c,d)) {
    ctx.strokeStyle = 'rgb(0, 255, 0)';
    var x = intersection(a,b,c,d);
    circle(x.x, x.y, 3);
  } else {
    ctx.strokeStyle = 'rgb(255, 0, 0)';
  }
  line(a,b);
  line(c,d);
    a.y += 1;
    b.y += 1;
    if (a.y >= 2 * d.y) {
     a.y = 0
     b.y = 0;
    }
//  a.y += 10 * (Math.random() - 0.5);
//  a.x += 10 * (Math.random() - 0.5);
//  b.y += 10 * (Math.random() - 0.5);
//  b.x += 10 * (Math.random() - 0.5);
//  c.y += 10 * (Math.random() - 0.5);
//  c.x += 10 * (Math.random() - 0.5);
//  d.y += 10 * (Math.random() - 0.5);
//  d.x += 10 * (Math.random() - 0.5);
}

</script>
</body>
</html>
